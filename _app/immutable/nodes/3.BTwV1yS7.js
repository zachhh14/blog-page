import{t as E,a as I}from"../chunks/CFLjmR9U.js";import"../chunks/CQlRmcQH.js";import{R as O,z as R,T,h as U,p as W,V as f,W as z,X as B,f as C,B as r,a as K,c as M,s as v,K as d,C as P,n as X,r as j}from"../chunks/BaZMwfK4.js";import{l as q,e as _}from"../chunks/Cmjvs8Ka.js";import{r as w}from"../chunks/oyr2Bh88.js";import{p as A}from"../chunks/Brlg9o_P.js";function S(a,s,n=s){var c=O();q(a,"input",e=>{var t=e?a.defaultValue:a.value;if(t=p(a)?b(t):t,n(t),c&&t!==(t=s())){var l=a.selectionStart,i=a.selectionEnd;a.value=t??"",i!==null&&(a.selectionStart=l,a.selectionEnd=Math.min(i,a.value.length))}}),(U&&a.defaultValue!==a.value||R(s)==null&&a.value)&&n(p(a)?b(a.value):a.value),T(()=>{var e=s();p(a)&&e===b(a.value)||a.type==="date"&&!e&&!a.value||e!==a.value&&(a.value=e??"")})}function p(a){var s=a.type;return s==="number"||s==="range"}function b(a){return a===""?null:+a}var D=E('<form><input name="email"> <input type="password" name="password"> <button>Sign up</button></form> <button>Sign in</button> <button>Sign out</button>',1);function Q(a,s){W(s,!1);let n=A(s,"data",8),c=n(),e=f(c.supabase),t=f(),l=f();const i=async()=>{await r(e).auth.signUp({email:r(t),password:r(l),options:{emailRedirectTo:`${location.origin}/auth/callback`}})},k=async()=>{await r(e).auth.signInWithPassword({email:r(t),password:r(l)})},V=async()=>{await r(e).auth.signOut()};z(()=>(r(e),P(n())),()=>{(o=>d(e,o.supabase))(n())}),B();var g=D(),u=C(g),m=M(u);w(m);var h=v(m,2);w(h),X(2),j(u);var y=v(u,2),x=v(y,2);S(m,()=>r(t),o=>d(t,o)),S(h,()=>r(l),o=>d(l,o)),_("submit",u,i),_("click",y,k),_("click",x,V),I(a,g),K()}export{Q as component};
